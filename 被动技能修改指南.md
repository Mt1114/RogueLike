# è¢«åŠ¨æŠ€èƒ½å±æ€§ä¿®æ”¹æŒ‡å—

## ğŸ“ ä¿®æ”¹ä½ç½®

ä¸»è¦ä¿®æ”¹æ–‡ä»¶ï¼š`src/modules/upgrade_system.py`

## ğŸ¯ å¯ä¿®æ”¹çš„è¢«åŠ¨æŠ€èƒ½

### 1. **ç”Ÿå‘½å¼ºåŒ–** (health)
```python
'health': PassiveUpgrade(
    name="ç”Ÿå‘½å¼ºåŒ–",
    max_level=3,
    levels=[
        PassiveUpgradeLevel(
            name="ç”Ÿå‘½å¼ºåŒ–",
            level=1,
            effects={'max_health': 50},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="å¢åŠ 50ç‚¹æœ€å¤§ç”Ÿå‘½å€¼",
            icon_path="images/passives/max_health_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="ç”Ÿå‘½å¼ºåŒ–",
            level=2,
            effects={'max_health': 100},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="å¢åŠ 100ç‚¹æœ€å¤§ç”Ÿå‘½å€¼",
            icon_path="images/passives/max_health_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="ç”Ÿå‘½å¼ºåŒ–",
            level=3,
            effects={'max_health': 200},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="å¢åŠ 200ç‚¹æœ€å¤§ç”Ÿå‘½å€¼",
            icon_path="images/passives/max_health_up_32x32.png"
        )
    ]
)
```

### 2. **è¿…æ·** (speed)
```python
'speed': PassiveUpgrade(
    name="è¿…æ·",
    max_level=3,
    levels=[
        PassiveUpgradeLevel(
            name="è¿…æ·",
            level=1,
            effects={'speed': 0.1},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (10% = 0.1)
            description="ç§»åŠ¨é€Ÿåº¦æå‡10%",
            icon_path="images/passives/speed_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="è¿…æ·",
            level=2,
            effects={'speed': 0.2},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (20% = 0.2)
            description="ç§»åŠ¨é€Ÿåº¦æå‡20%",
            icon_path="images/passives/speed_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="è¿…æ·",
            level=3,
            effects={'speed': 0.3},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (30% = 0.3)
            description="ç§»åŠ¨é€Ÿåº¦æå‡30%",
            icon_path="images/passives/speed_up_32x32.png"
        )
    ]
)
```

### 3. **ç”Ÿå‘½å›å¤** (health_regen)
```python
'health_regen': PassiveUpgrade(
    name="ç”Ÿå‘½å›å¤",
    max_level=3,
    levels=[
        PassiveUpgradeLevel(
            name="ç”Ÿå‘½å›å¤",
            level=1,
            effects={'health_regen': 1},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="æ¯ç§’å›å¤1ç‚¹ç”Ÿå‘½å€¼",
            icon_path="images/passives/heal_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="ç”Ÿå‘½å›å¤",
            level=2,
            effects={'health_regen': 2},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="æ¯ç§’å›å¤2ç‚¹ç”Ÿå‘½å€¼",
            icon_path="images/passives/heal_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="ç”Ÿå‘½å›å¤",
            level=3,
            effects={'health_regen': 3},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="æ¯ç§’å›å¤3ç‚¹ç”Ÿå‘½å€¼",
            icon_path="images/passives/heal_up_32x32.png"
        )
    ]
)
```

### 4. **å¹¸è¿** (luck)
```python
'luck': PassiveUpgrade(
    name="å¹¸è¿",
    max_level=3,
    levels=[
        PassiveUpgradeLevel(
            name="å¹¸è¿",
            level=1,
            effects={'luck': 0.5},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (50% = 0.5)
            description="å¹¸è¿å€¼æå‡50%",
            icon_path="images/passives/lucky_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="å¹¸è¿",
            level=2,
            effects={'luck': 1},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (100% = 1.0)
            description="å¹¸è¿å€¼æå‡100%",
            icon_path="images/passives/lucky_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="å¹¸è¿",
            level=3,
            effects={'luck': 1.5},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (150% = 1.5)
            description="å¹¸è¿å€¼æå‡150%",
            icon_path="images/passives/lucky_up_32x32.png"
        )
    ]
)
```

### 5. **æ”»å‡»åŠ›** (attack_power)
```python
'attack_power': PassiveUpgrade(
    name="æ”»å‡»åŠ›",
    max_level=3,
    levels=[
        PassiveUpgradeLevel(
            name="æ”»å‡»åŠ›",
            level=1,
            effects={'attack_power': 0.1},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (10% = 0.1)
            description="æ”»å‡»åŠ›æå‡10%",
            icon_path="images/passives/damage_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="æ”»å‡»åŠ›",
            level=2,
            effects={'attack_power': 0.2},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (20% = 0.2)
            description="æ”»å‡»åŠ›æå‡20%",
            icon_path="images/passives/damage_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="æ”»å‡»åŠ›",
            level=3,
            effects={'attack_power': 0.3},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (30% = 0.3)
            description="æ”»å‡»åŠ›æå‡30%",
            icon_path="images/passives/damage_up_32x32.png"
        )
    ]
)
```

### 6. **é˜²å¾¡åŠ›** (defense)
```python
'defense': PassiveUpgrade(
    name="é˜²å¾¡åŠ›",
    max_level=3,
    levels=[
        PassiveUpgradeLevel(
            name="é˜²å¾¡åŠ›",
            level=1,
            effects={'defense': 0.1},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (10% = 0.1)
            description="é˜²å¾¡åŠ›æå‡10%",
            icon_path="images/passives/defense_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="é˜²å¾¡åŠ›",
            level=2,
            effects={'defense': 0.2},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (20% = 0.2)
            description="é˜²å¾¡åŠ›æå‡20%",
            icon_path="images/passives/defense_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="é˜²å¾¡åŠ›",
            level=3,
            effects={'defense': 0.3},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼ (30% = 0.3)
            description="é˜²å¾¡åŠ›æå‡30%",
            icon_path="images/passives/defense_up_32x32.png"
        )
    ]
)
```

### 7. **æ‹¾å–èŒƒå›´** (pickup_range)
```python
'pickup_range': PassiveUpgrade(
    name="æ‹¾å–èŒƒå›´",
    max_level=3,
    levels=[
        PassiveUpgradeLevel(
            name="æ‹¾å–èŒƒå›´",
            level=1,
            effects={'pickup_range': 25},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="æ‹¾å–èŒƒå›´å¢åŠ 25",
            icon_path="images/passives/absorb_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="æ‹¾å–èŒƒå›´",
            level=2,
            effects={'pickup_range': 50},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="æ‹¾å–èŒƒå›´å¢åŠ 50",
            icon_path="images/passives/absorb_up_32x32.png"
        ),
        PassiveUpgradeLevel(
            name="æ‹¾å–èŒƒå›´",
            level=3,
            effects={'pickup_range': 100},  # ä¿®æ”¹è¿™é‡Œçš„æ•°å€¼
            description="æ‹¾å–èŒƒå›´å¢åŠ 100",
            icon_path="images/passives/absorb_up_32x32.png"
        )
    ]
)
```

## ğŸ”§ ä¿®æ”¹ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå¢å¼ºç”Ÿå‘½å¼ºåŒ–æ•ˆæœ
```python
# å°†ç”Ÿå‘½å¼ºåŒ–ä» 50/100/200 æ”¹ä¸º 100/200/400
effects={'max_health': 100},  # 1çº§ï¼š100ç‚¹ç”Ÿå‘½å€¼
effects={'max_health': 200},  # 2çº§ï¼š200ç‚¹ç”Ÿå‘½å€¼
effects={'max_health': 400},  # 3çº§ï¼š400ç‚¹ç”Ÿå‘½å€¼
```

### ç¤ºä¾‹2ï¼šå¢å¼ºé€Ÿåº¦æå‡æ•ˆæœ
```python
# å°†é€Ÿåº¦æå‡ä» 10%/20%/30% æ”¹ä¸º 20%/40%/60%
effects={'speed': 0.2},  # 1çº§ï¼š20%é€Ÿåº¦æå‡
effects={'speed': 0.4},  # 2çº§ï¼š40%é€Ÿåº¦æå‡
effects={'speed': 0.6},  # 3çº§ï¼š60%é€Ÿåº¦æå‡
```

### ç¤ºä¾‹3ï¼šå¢å¼ºæ”»å‡»åŠ›æ•ˆæœ
```python
# å°†æ”»å‡»åŠ›æå‡ä» 10%/20%/30% æ”¹ä¸º 25%/50%/75%
effects={'attack_power': 0.25},  # 1çº§ï¼š25%æ”»å‡»åŠ›æå‡
effects={'attack_power': 0.5},   # 2çº§ï¼š50%æ”»å‡»åŠ›æå‡
effects={'attack_power': 0.75},  # 3çº§ï¼š75%æ”»å‡»åŠ›æå‡
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç™¾åˆ†æ¯”å±æ€§**ï¼š`speed`ã€`luck`ã€`attack_power`ã€`defense` ä½¿ç”¨ç™¾åˆ†æ¯”è®¡ç®—
   - 0.1 = 10%
   - 0.5 = 50%
   - 1.0 = 100%

2. **å›ºå®šæ•°å€¼å±æ€§**ï¼š`max_health`ã€`health_regen`ã€`pickup_range` ä½¿ç”¨å›ºå®šæ•°å€¼
   - ç›´æ¥ä¿®æ”¹æ•°å€¼å³å¯

3. **æè¿°æ–‡å­—**ï¼šè®°å¾—åŒæ—¶ä¿®æ”¹ `description` ä¸­çš„æè¿°æ–‡å­—ï¼Œä¿æŒä¸€è‡´æ€§

4. **æµ‹è¯•**ï¼šä¿®æ”¹åè®°å¾—æµ‹è¯•æ¸¸æˆï¼Œç¡®ä¿æ•ˆæœç¬¦åˆé¢„æœŸ

## ğŸ® ä¿®æ”¹åçš„æ•ˆæœ

ä¿®æ”¹å®Œæˆåï¼Œç©å®¶é€‰æ‹©ç›¸åº”çš„è¢«åŠ¨æŠ€èƒ½æ—¶ï¼Œä¼šç«‹å³è·å¾—ä¿®æ”¹åçš„å±æ€§åŠ æˆï¼Œå¹¶ä¸”ä¼šå®æ—¶åæ˜ åœ¨æ¸¸æˆä¸­ï¼ 